# Przykładowy plik crontab dla automatyzacji zadań Useme Bot
# Aby zainstalować, użyj: crontab -e

# Format:
# ┌───────────── minuta (0 - 59)
# │ ┌───────────── godzina (0 - 23)
# │ │ ┌───────────── dzień miesiąca (1 - 31)
# │ │ │ ┌───────────── miesiąc (1 - 12)
# │ │ │ │ ┌───────────── dzień tygodnia (0 - 6) (Niedziela=0 lub 7)
# │ │ │ │ │
# │ │ │ │ │
# │ │ │ │ │
# * * * * * polecenie do wykonania

# Uruchamiaj scrapowanie co 5 minut
*/5 * * * * cd /path/to/useme-bot && python3 scraper.py --max-pages 3

# Generuj propozycje co 30 minut
*/30 * * * * cd /path/to/useme-bot && python3 ai_proposal_generator.py --use-database --min-relevance 6

# Alternatywnie, używaj queue_worker.py do obsługi wszystkich zadań
*/5 * * * * cd /path/to/useme-bot && python3 queue_worker.py

# Zapisuj kopię bazy danych raz dziennie o 3:00 rano
0 3 * * * cd /path/to/useme-bot && cp useme.db useme-backup-$(date +\%Y\%m\%d).db

# Usuwaj stare kopie zapasowe starsze niż 7 dni
0 4 * * * find /path/to/useme-bot -name "useme-backup-*.db" -mtime +7 -delete

# Uruchamiaj aplikację webową przy starcie systemu (opcjonalnie)
@reboot cd /path/to/useme-bot && python3 app.py > app.log 2>&1 &

# Uruchamiaj scheduler zadań przy starcie systemu (opcjonalnie)
@reboot cd /path/to/useme-bot && ./run_scheduler.sh start 